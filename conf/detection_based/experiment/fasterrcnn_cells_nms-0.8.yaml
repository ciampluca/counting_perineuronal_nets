# @package _global_
defaults:
  - override /technique: detection_based_fasterrcnn


detection_based_fasterrcnn:
  dataset:
      train:
          name: "VGGCellsDataset"
          params:
              root: "/home/modro/datino/VGG_cells"
              patch_size: 256
              num_samples: 64
              gt_params:
                  side: 12       # side (in px) of the bounding box localizing a cell
                  in_memory: true
                  ann_type: "det"

      validation:
          name: "VGGCellsDataset"
          params:
              root: "/home/modro/datino/VGG_cells"
              patch_size: 256
              num_samples: 36
              gt_params:
                  side: 12       # side (in px) of the bounding box localizing a cell
                  ann_type: "det"

  model:
    params:
      max_dets_per_image: 300
      nms: 0.8
      det_thresh: 0.05

  optim:
    lr_scheduler:
      params:
        milestones: [100, 150]

    batch_size: 8
    batch_accumulation: 1
    epochs: 150

    val_batch_size: 8
    log_every: 2
  
  misc:
    font_size: 8
    text_pos: 15
    bb_outline_width: 1